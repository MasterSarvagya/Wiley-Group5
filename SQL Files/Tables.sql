DROP DATABASE IF EXISTS LIBRARYMANAGEMENTSYSTEM;

CREATE DATABASE LIBRARYMANAGEMENTSYSTEM;

USE  LIBRARYMANAGEMENTSYSTEM;

CREATE TABLE IF NOT EXISTS BOOKS(
BOOK_ID INT PRIMARY KEY,
BOOK_NAME VARCHAR(40) ,
BOOK_TYPE VARCHAR(40),
AUTHOR_NAME VARCHAR(30) NOT NULL,
ORIGINAL_QTY INT,
QTY_LEFT INT
);

CREATE TABLE IF NOT EXISTS EMPLOYEES(
EMPLOYEE_ID INT PRIMARY KEY,
EMPLOYEE_NAME VARCHAR(40) ,
PHONE_NUMBER LONG,
ISADMIN BOOLEAN,
PASSWORD VARCHAR(40),
BOOK_LIMIT INT
);

CREATE TABLE ISSUEDBOOKS(
EMPLOYEE_ID INTEGER,
BOOK_ID INTEGER,
ISSUE_DATETIME DATETIME,
RETURN_DATETIME DATETIME,
LATE_FEES DOUBLE,
CONSTRAINT empIdFK FOREIGN KEY(EMPLOYEE_ID) REFERENCES EMPLOYEES(EMPLOYEE_ID),
CONSTRAINT FOREIGN KEY(BOOK_ID) REFERENCES BOOKS(BOOK_ID));

INSERT INTO BOOKS
VALUES
(901,'DATA ANALYTICS MADE ACCESSIBLE','DATA ANALYTICS','DR. ANIL MAHESHWARI','1000','1000'),
(902,'NO MATH ADDED','DATA ANALYTICS','ANNALYN NG AND KENNETH SOO','800','800'),
(903,'EXPLORING DATA IN PYTHON 3','DATA ANALYTICS','DR. CHARLES RUSSELL SEVERANCE','1200','1200'),
(904,'THE AGE OF A.I. ','TECHNOLOGY','HENRY KISSINGER','1300','1300'),
(905,'DOING AGILE RIGHT','TECHNOLOGY','STEVE BEREZ','1400','1400'),
(906,'TECHNOLOGY & SOCIETY','TECHNOLOGY','JAMESON M. WETMORE','600','600'),
(907,'THE ONE MINUTE MANAGER','MANAGEMENT','SPENCER JOHNSON','800','800'),
(908,'ON BECOMING A LEADER','MANAGEMENT','WARREN BENNIS','1100','1100'),
(909,'TURN THE SHIP AROUND!','MANAGEMENT','DAVID MARQUET','1250','1250');

INSERT INTO EMPLOYEES
VALUES
(000,'ADMIN','9140879412','1','WILEYADMIN','1500'),
(101,'JAI','9140879407','0','XYZ123','5'),
(102,'SARVAGYA','9140879408','0','ABC321','5'),
(103,'ARYAN','9140879409','0','DEF345','5'),
(105,'ATUL','9140879400','0','SEF111','5'),
(106,'DEVESH','9140879401','0','ZEV123','5'),
(107,'ANJALI','9140879402','0','ABW132','5'),
(108,'ANUSHREE','9140879403','0','QER768','5'),
(109,'ANUSHI','9140879404','0','L34QAE','5'),
(110,'HARMEET','9140879405','0','K3Q145','5');

INSERT INTO ISSUEDBOOKS 
VALUES
(000,901,'2020-11-11 13:23:44','2008-11-19 14:23:44',1200),
(101,902,'2020-12-11 15:23:44','2008-12-21 11:23:44',1100);

SELECT * FROM EMPLOYEES;
SELECT * FROM BOOKS;
SELECT * FROM ISSUEDBOOKS;
